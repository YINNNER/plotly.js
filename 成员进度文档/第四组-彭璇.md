** 进度文档 **
# 第四组-彭璇

# 2016302580096

# 第三周-第四周：了解了项目中src文件夹各部分内容的作用
-------



# src

存放了Plotly绘图库的js源代码

![1537788727350](C:\Users\10421\AppData\Roaming\Typora\typora-user-images\1537788727350.png)

## 1 assets

里面只有一个js文件，寥寥数行代码，似乎是写版本号的地方

![1537843622077](C:\Users\10421\AppData\Roaming\Typora\typora-user-images\1537843622077.png)

## 2 components

- plotly是一个绘图的js库，所以components这个文件夹下是给出了该库所能绘制的各种图形效果

- ![1537844010777](C:\Users\10421\AppData\Roaming\Typora\typora-user-images\1537844010777.png)


### 2.1 annotations（标记/图形）

![1537844553152](C:\Users\10421\AppData\Roaming\Typora\typora-user-images\1537844553152.png)



- arrow_path.js: 一些标记的实现：箭头（arrow), 圆圈(Circle), 方形(square)...，代码量只有数十行，但是应该是定义了Plotly的所有图形类型
- attributes.js:应该是实现各种标记的特效的地方——即可以更改各种标记的属性：size, color, opacity, alignment, border, etc..
- cal_autorange.js:
  ![1537844840261](C:\Users\10421\AppData\Roaming\Typora\typora-user-images\1537844840261.png)
  （这是代码中对于该文件的注释）
  我的理解是，这个js文件根据每个annotation的锚点，确定它们的边框、轮廓，以进行图形的绘制
- click.js: 鼠标点击事件所产生的特效
- common_defaults.js: 各种annotation的默认效果
- convert_coords.js: 图形(annotations)坐标系转换的处理算法
- defaults.js: 还是默认效果..感觉和common_defaults作用很类似
- draw.js: 这里应该是各种标记的呈现层了，相当于MVC中的View了；具体地实现了各种标记怎么显示
- draw_arrow_head.js: 这里应该是”箭头“这个元素的呈现层了（虽然不知道为什么要把箭头的实现给单独分离出来）
- index.js: 定义annotations这个模块在所有components中的一个所处角色以及可能与其他模块所存在的关系

### 2.2 annotations3d

对三维标记的实现及特效实现，与annotation模块类似，功能更少，不做赘述

### 2.3 calendars

似乎是导入了不同地区的日历（内容很少，而且和图形没有关联）

### 2.4 color

定义各种颜色，并且给到这些颜色的js实现

### 2.5 colorBar

建立在color模块上的模块，对颜色进行了封装，实现对具体对象、标记的颜色特效

### 2.6 colorscale

还是对color模块的封装

### 2.7 Others

其他的包（如images, legend, shapes, etc)，也都是实现各自具体的功能，不做赘述

## 3 constant

本包功能如其名字所言，保存了plotly框架源代码中用到的所有常量，js文件内的内容皆是如下类型

![1537867444499](C:\Users\10421\AppData\Roaming\Typora\typora-user-images\1537867444499.png)

## 4 css

还是如包名所言...保存的是plotly框架用到的一些基本CSS代码

## 5 Font

保存的是字体的特效

## 6 lib

As expected...这是除了annotations外，第二个很大、功能很丰富的文件夹了

![1537867712320](C:\Users\10421\AppData\Roaming\Typora\typora-user-images\1537867712320.png)

（部分js文件名截图）

包里面存放的是第三方的js文件，实现了比较重要的有

- 对角度的操作（angles.js）
- coerce.js（写的很杂，包含了对基本数据类型和对数组等基本数据结构的操作封装）
- 时间和日期的处理（dates.js)
- regex.js(对正则表达式的处理)
- topojson_utils.js(格式转换,toJson)
- polygon.js（多边形的js）

简而言之，lib这个包导入了很多外部的底层js，为plotly库的实现提供了很多便利

## 7 Plot_api

plotly框架的api，导出了各种函数和变量（由Plotly提供)，以供开发者调用

接口的数目实在太多，不一一列举

## 8 Plots

### 8.1 cartesian

笛卡尔坐标系变换

### 8.2 geo

几何图形/标记的布局、基本属性

### 8.3 gl2d

### 8.4 gl3d

------



## 9 snapshot

提供对各类图形/标记的

- 复制
- 粘贴
- 剪切
- 下载
- 转svg、
- 转图像

-------

## 10 traces

 各类图象

![1537874834864](C:\Users\10421\AppData\Roaming\Typora\typora-user-images\1537874834864.png)

![1537874853768](C:\Users\10421\AppData\Roaming\Typora\typora-user-images\1537874853768.png)

包含

- 条
- 盒子
- 圆锥
- 热量图
- 历史数据图
- 散点图
- 曲线图（2d&3d）
- 表

等等

------



## 11 transforms

![1537875134124](C:\Users\10421\AppData\Roaming\Typora\typora-user-images\1537875134124.png)

实现的功能和js文件的名字一致，即对图形/图像的变换（聚合、过滤、分类、排序）

## 12 根目录下的其他js文件

### 12.1 core.js

![(1537875369255](C:\Users\10421\AppData\Roaming\Typora\typora-user-images\1537875369255.png)

（core.js文件中的一段代码）

根据代码和注释判断，这个文件应该是建立起components包中各组件之间的关联，对各个模块进行注册（what is registration？）

### 12.2 registry.js





